<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Registration Form</h1>
            <p>Please complete the information below and upload clear, uncropped images of your valid ID (front and back).</p>
        </header>

        <!-- Error message placeholder -->
        {error_message}

        <form action="/register" method="post" enctype="multipart/form-data" class="registration-form">
            <div class="form-group">
                <label for="first_name">First Name <span class="required">*</span></label>
                <input type="text" id="first_name" name="first_name" required>
            </div>
            <div class="form-group">
                <label for="last_name">Last Name <span class="required">*</span></label>
                <input type="text" id="last_name" name="last_name" required>
            </div>

            <div class="form-group">
                <span class="label">Type of Valid ID <span class="required">*</span></span>
                <div class="radio-group">
                    <!-- List of valid ID options -->
                    <label class="radio-label"><input type="radio" name="id_type" value="Driver's license" required> Driver's license</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="PhilID / National ID"> PhilID / National ID</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="Unified Multi-Purpose ID (UMID)"> Unified Multi-Purpose ID (UMID)</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="TIN ID"> TIN ID</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="Postal ID"> Postal ID</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="Social Security Card/SSS ID"> Social Security Card/SSS ID</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="Voter’s ID"> Voter’s ID</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="PhilHealth ID"> PhilHealth ID</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="Residence permit"> Residence permit</label>
                    <label class="radio-label"><input type="radio" name="id_type" value="Passport"> Passport</label>
                </div>
            </div>

            <div class="form-group">
                <label for="id_front">Upload ID Front Image <span class="required">*</span></label>
                <input type="file" id="id_front" name="id_front" accept="image/*" required>
                <div class="preview" id="preview_front"></div>
            </div>
            <div class="form-group">
                <label for="id_back">Upload ID Back Image <span class="required">*</span></label>
                <input type="file" id="id_back" name="id_back" accept="image/*" required>
                <div class="preview" id="preview_back"></div>
            </div>

            <button type="submit" class="btn">Submit</button>
        </form>

        <section class="info-section">
            <h2>Valid ID Options</h2>
            <p>Below is the list of acceptable valid IDs. Please select the type you will upload:</p>
            <img src="/static/valid_id_list.png" alt="List of valid IDs" class="info-image">
        </section>

        <section class="info-section">
            <h2>Sample of a Clear, Uncropped ID</h2>
            <p>Ensure your ID images show the entire card without cropping. Use this sample as a reference:</p>
            <img src="/static/sample_non_cropped.png" alt="Sample non cropped ID" class="info-image">
        </section>
    </div>

    <script>
    // Preview uploaded images for front and back
    function handlePreview(input, previewElementId) {
        const preview = document.getElementById(previewElementId);
        preview.innerHTML = '';
        const file = input.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.createElement('img');
                img.src = e.target.result;
                img.alt = 'Preview';
                img.classList.add('preview-image');
                preview.appendChild(img);
            };
            reader.readAsDataURL(file);
        }
    }

    document.getElementById('id_front').addEventListener('change', function() {
        handlePreview(this, 'preview_front');
    });
    document.getElementById('id_back').addEventListener('change', function() {
        handlePreview(this, 'preview_back');
    });
    </script>
</body>
</html>
